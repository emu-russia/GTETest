# GTETest

Программа для тестирования инструкций GTE.

![gtetest_preview.png](gtetest_preview.png)

Программа предназначена для запуска с CD-ROM. В комплект входит исходный код (для компиляции требуется PsyQ 4.6), исполняемый файл и готовый образ для прожигания на болванку.

Управление в программе:
- Влево, Вправо - Изменение номера разряда регистра
- Вверх, Вниз - Выбор регистра
- SELECT - Выбор между регистрами Data и Control
- R1, R2 - Выбор номера разряда инструкции
- L1 - Увеличение разряда выбранного регистра на 1
- L2 - Увеличение разряда кода инструкции на 1
- START - Запуск операции GTE на выполнение.

Перед выполнением инструкции программа обновляет регистры GTE, и выполняет выбранную инструкцию. Если инструкция не является GTE-инструкцией, то она не выполняется. После выполнения, все регистры GTE опять копируются для отображения на экране.

Список известных инструкций GTE (биты):

```
     -----------------------------------------------------------------------------------------------
    |31|30|29|28|27|26|25|24|23|22|21|20|19|18|17|16|15|14|13|12|11|10|09|08|07|06|05|04|03|02|01|00|
    |-----------------------------------------------------------------------------------------------|
    | 0  1  0  0  1  0|       OP2       |SF| MX  |  V  | CV  |  LM    | 0  0  0  0|      OP1        |
     -----------------------------------------------------------------------------------------------

    RTPS   cop2 0x0180001 = 0100.10 10.0001. 1000.0000.00 00.00 00.0001
    NCLIP  cop2 0x1400006 = 0100.10 11.0100. 0000.0000.00 00.00 00.0110
    OP     cop2 0x170000c = 0100.10 11.0111. 0000.0000.00 00.00 00.1100
    DPCS   cop2 0x0780010 = 0100.10 10.0111. 1000.0000.00 00.00 01.0000
    INTPL  cop2 0x0980011 = 0100.10 10.1001. 1000.0000.00 00.00 01.0001
    MVMVA  cop2 0x0400012 = 0100.10 10.0100. 0000.0000.00 00.00 01.0010
    NCDS   cop2 0x0e80413 = 0100.10 10.1110. 1000.0000.01 00.00 01.0011
    CDP    cop2 0x1280414 = 0100.10 11.0010. 1000.0000.01 00.00 01.0100
    NCDT   cop2 0x0f80416 = 0100.10 10.1111. 1000.0000.01 00.00 01.0110
    NCCS   cop2 0x108041b = 0100.10 11.0000. 1000.0000.01 00.00 01.1011
    CC     cop2 0x138041c = 0100.10 11.0011. 1000.0000.01 00.00 01.1100
    NCS    cop2 0x0c8041e = 0100.10 10.1100. 1000.0000.01 00.00 01.1110
    NCT    cop2 0x0d80420 = 0100.10 10.1101. 1000.0000.01 00.00 10.0000
    SQR    cop2 0x0a00428 = 0100.10 10.1010. 0000.0000.01 00.00 10.1000
    DCPL   cop2 0x0680029 = 0100.10 10.0110. 1000.0000.00 00.00 10.1001
    DPCT   cop2 0x0f8002a = 0100.10 10.1111. 1000.0000.00 00.00 10.1010
    AVSZ3  cop2 0x158002d = 0100.10 11.0101. 1000.0000.00 00.00 10.1101
    AVSZ4  cop2 0x168002e = 0100.10 11.0110. 1000.0000.00 00.00 10.1110
    RTPT   cop2 0x0280030 = 0100.10 10.0010. 1000.0000.00 00.00 11.0000
    GPF    cop2 0x190003d = 0100.10 11.1001. 0000.0000.00 00.00 11.1101
    GPL    cop2 0x1a0003e = 0100.10 11.1010. 0000.0000.00 00.00 11.1110
    NCCT   cop2 0x118043f = 0100.10 11.0001. 1000.0000.01 00.00 11.1111
```

Известные глюки и недоработки:
- Нет подсветки выбранного разряда регистра и инструкции;

Изменения:
- В версии 0.1 забыл установить бит COP2 Usable в регистре STATUS.
- В версии 0.2 адекватно обрабатывается контроллер.
- В версии 0.3 (спасибо edgbla) не дергаются кнопки и сделано нормальное разрешение экрана.

Комментарии:
Чтобы откомпилировать программу, измените пути в файлах BUILD.BAT и MAIN.INL, потом запустите BUILD.BAT, после чего в DOSBox запустите CONVERT.BAT.

org.
Last Modified: 20 Jul 2011